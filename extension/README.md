# Chrome拡張機能版 インストールガイド

## インストール手順

### 開発者モードでインストール

1. Chromeで `chrome://extensions/` にアクセス
2. 右上の「デベロッパーモード」トグルを有効化
3. 「パッケージ化されていない拡張機能を読み込む」ボタンをクリック
4. このディレクトリ（`extension/`フォルダ）を選択

### アイコンの準備

初めて使用する場合、アイコンファイルが必要です。`icons/` ディレクトリの README.md を参照して、アイコンを作成してください。

簡易的に使用する場合は、以下のコマンドでダミーアイコンを生成できます（ImageMagickが必要）:

```bash
cd icons
convert -size 128x128 xc:#238636 -pointsize 60 -fill white -gravity center -annotate +0+0 "PR" icon128.png
convert icon128.png -resize 48x48 icon48.png
convert icon128.png -resize 32x32 icon32.png
convert icon128.png -resize 16x16 icon16.png
```

## 使い方

### 基本的な使い方（ポップアップUI）

1. GitHubの [Pull requests](https://github.com/pulls) ページにアクセス
2. ツールバーの拡張機能アイコンをクリック
3. ポップアップが開き、未読PR数が表示されます
4. 「🔗 一括で開く」ボタンをクリック
5. 未読PRが新しいタブで開かれます

### 従来の使い方（ページボタン）

ページ上部に「🔗 未読PRを一括で開く」ボタンも表示されます。
このボタンをクリックしても同様に動作します。

### 設定のカスタマイズ

1. ツールバーの拡張機能アイコンをクリック
2. ポップアップ下部の「⚙️ 設定」リンクをクリック
3. 以下の設定を変更できます:
   - **一度に開く最大件数**: 1〜50件（デフォルト: 10件）
   - **開く前に確認する**: 確認ダイアログの有効/無効
4. 「💾 設定を保存」ボタンをクリック
5. 「← 戻る」ボタンでメイン画面に戻る

## 機能

### 自動ボタン追加

- GitHub PRページにアクセスすると自動的にボタンが追加されます
- SPAのページ遷移にも対応しています

### 設定の保存

- Chrome Sync Storageを使用して設定を保存
- 複数のデバイス間で設定が同期されます

### バックグラウンド処理

- タブの作成はバックグラウンドで行われます
- ブラウザのポップアップブロッカーの影響を受けにくい設計

## トラブルシューティング

### ボタンが表示されない

1. ページを再読み込みしてください
2. 拡張機能が有効になっているか確認してください
3. コンソールでエラーが出ていないか確認してください（F12で開発者ツールを開く）

### タブが開かない

1. 拡張機能に必要な権限が付与されているか確認してください
2. `chrome://extensions/` で拡張機能の詳細を確認
3. 必要に応じて拡張機能を再読み込みしてください

### 設定が保存されない

1. Chrome Sync が有効になっているか確認してください
2. ストレージの容量制限に達していないか確認してください

### GitHubのデザイン変更により動作しない

GitHubはUIを頻繁に更新するため、セレクターが変更される可能性があります。
その場合は、`content.js` のセレクターを更新する必要があります。

## 開発

### ファイル構成

- `manifest.json` - 拡張機能の設定ファイル
- `content.js` - GitHubページに注入されるスクリプト
- `background.js` - バックグラウンドで動作するサービスワーカー
- `popup.html` - 設定画面のHTML
- `popup.js` - 設定画面のスクリプト
- `icons/` - 拡張機能のアイコン

### デバッグ方法

1. `chrome://extensions/` で「詳細」をクリック
2. 「バックグラウンドページを調査」または「ビューを検査」をクリック
3. 開発者ツールでログやエラーを確認

### コード修正後

1. `chrome://extensions/` で拡張機能の「更新」ボタンをクリック
2. GitHubページをリロード

## アンインストール

1. `chrome://extensions/` にアクセス
2. 拡張機能の「削除」ボタンをクリック
3. 確認ダイアログで「削除」をクリック
